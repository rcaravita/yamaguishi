/**
 * Copyright (c) Tiny Technologies, Inc. All rights reserved.
 * Licensed under the LGPL or a commercial license.
 * For LGPL see License.txt in the project root for license information.
 * For commercial licenses see https://www.tiny.cloud/
 *
 * Version: 5.7.1 (2021-03-17)
 */
!function(){"use strict";var e,t,n,r,o=tinymce.util.Tools.resolve("tinymce.PluginManager"),i=tinymce.util.Tools.resolve("tinymce.util.Tools"),a=function(e,t){var n,r=e.dom,o=e.selection.getSelectedBlocks();o.length&&(n=r.getAttrib(o[0],"dir"),i.each(o,function(e){r.getParent(e.parentNode,'*[dir="'+t+'"]',r.getRoot())||r.setAttrib(e,"dir",n!==t?t:null)}),e.nodeChanged())},u=function(e){return function(){return e}},s=u(!1),c=u(!0),l=function(){return f},f=(e=function(e){return e.isNone()},{fold:function(e){return e()},is:s,isSome:s,isNone:c,getOr:n=function(e){return e},getOrThunk:t=function(e){return e()},getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:u(null),getOrUndefined:u(void 0),or:n,orThunk:t,map:l,each:function(){},bind:l,exists:s,forall:c,filter:l,equals:e,equals_:e,toArray:function(){return[]},toString:u("none()")}),d=function(e){var t=u(e),n=function(){return o},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:c,isNone:s,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return d(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:f},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(s,function(t){return n(e,t)})}};return o},h={some:d,none:l,from:function(e){return null===e||void 0===e?f:d(e)}},p=function(e){return!(null===(t=e)||void 0===t);var t},m=(r="function",function(e){return typeof e===r}),g=function(e){if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:e}},v={fromHtml:function(e,t){var n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||1<n.childNodes.length)throw console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return g(n.childNodes[0])},fromTag:function(e,t){var n=(t||document).createElement(e);return g(n)},fromText:function(e,t){var n=(t||document).createTextNode(e);return g(n)},fromDom:g,fromPoint:function(e,t,n){return h.from(e.dom.elementFromPoint(t,n)).map(g)}},y=("undefined"!=typeof window||Function("return this;")(),function(e){return function(t){return t.dom.nodeType===e}}),b=y(3),C=y(9),w=y(11),x=m(Element.prototype.attachShadow)&&m(Node.prototype.getRootNode)?function(e){return v.fromDom(e.dom.getRootNode())}:function(e){return C(e)?e:(t=e,v.fromDom(t.dom.ownerDocument));var t},S=function(e){var t,n=x(e);return w(t=n)&&p(t.dom.host)?h.some(n):h.none()},_=function(e){return v.fromDom(e.dom.host)},k=function(e){var t=b(e)?e.dom.parentNode:e.dom;if(void 0===t||null===t||null===t.ownerDocument)return!1;var n,r,o=t.ownerDocument;return S(v.fromDom(t)).fold(function(){return o.body.contains(t)},(n=k,r=_,function(e){return n(r(e))}))},E=function(e,t){return void 0!==(n=e).style&&m(n.style.getPropertyValue)?e.style.getPropertyValue(t):"";var n},N=function(e){return"rtl"===(n="direction",r=(t=e).dom,""!==(o=window.getComputedStyle(r).getPropertyValue(n))||k(t)?o:E(r,n))?"rtl":"ltr";var t,n,r,o},T=function(e,t){return function(n){var r=function(e){var r=v.fromDom(e.element);n.setActive(N(r)===t)};return e.on("NodeChange",r),function(){return e.off("NodeChange",r)}}};o.add("directionality",function(e){var t,n;(t=e).addCommand("mceDirectionLTR",function(){a(t,"ltr")}),t.addCommand("mceDirectionRTL",function(){a(t,"rtl")}),(n=e).ui.registry.addToggleButton("ltr",{tooltip:"Left to right",icon:"ltr",onAction:function(){return n.execCommand("mceDirectionLTR")},onSetup:T(n,"ltr")}),n.ui.registry.addToggleButton("rtl",{tooltip:"Right to left",icon:"rtl",onAction:function(){return n.execCommand("mceDirectionRTL")},onSetup:T(n,"rtl")})})}();